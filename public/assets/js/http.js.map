{"version":3,"sources":["http.js"],"names":["expose","fetch","http","options","this","_opts","prototype","get","url","opts","$","extend","getJson","adjustedUrl","substring","length","then","r","Error","status"],"mappings":"aAAAA,OAAO,QAAS,QAAS,SAASC,GAChC,SAAAC,EAAAC,GAGEC,KAAKC,MAAQF,MAkBd,OAjBAD,EAAAI,UAAAC,IAAA,SAAAC,GAGC,IAAMC,EAAOC,EAAEC,QAAO,KAAUP,KAAKC,OAArC,OADFH,EAAKI,OAAUC,MACPE,EAASE,EAAAA,IAGhBT,EAJDI,UAAAM,QAAA,SAAAJ,GAOE,IAAMK,EAAgD,UAAlCL,EAAIM,UAAUN,EAAIO,OAAS,GAAiBP,EAAMA,EAAM,QAD9EN,OAAKI,KAALC,IAAeK,GAAUI,KAASR,SAAAA,GAChC,GAAMK,EAAAA,GACN,OAAOI,EAAKV,OAER,MAAA,IAAAW,MAAA,gBAAAD,EAAAE,WAJNjB","file":"http.js","sourcesContent":["expose('http', ['fetch', function(fetch) {\n  'use strict';\n\n  function http(options) {\n    this._opts = options || {};\n  }\n\n  http.prototype.get = function(url) {\n    const opts = $.extend(true, {}, this._opts);\n    opts.method = 'GET';\n    return fetch(url, opts);\n  }\n\n  http.prototype.getJson = function(url) {\n    const adjustedUrl = url.substring(url.length - 5) === '.json' ? url : url + '.json';\n    return this.get(adjustedUrl).then(r => {\n      if (r.ok) {\n        return r.json();\n      } else {\n\tthrow new Error(`Bad response ${r.status}`);\n      }\n    });\n  }\n\n  return http;\n\n}]);\n"]}