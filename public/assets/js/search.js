const injector=function(){const t={};return{resolve:function e(n){if("function"===$.type(n))try{return new n}catch(t){return n}else{if("array"===$.type(n)&&"function"===$.type(n[n.length-1])){const t=n.slice(0,-1).map(e),o=n[n.length-1];return o.apply(o,t)}if("string"!==$.type(n))return n;{const o=t[n];if(o)return e(o)}}},expose:function(e,n){t[e]=n}}}(),resolve=injector.resolve,expose=injector.expose;expose("document",document),expose("fetch",fetch),expose("http",["fetch",function(t){function e(t){this._opts=t||{}}return e.prototype.get=function(e){const n=$.extend(!0,{},this._opts);return n.method="GET",t(e,n)},e.prototype.getJson=function(t){const e=".json"===t.substring(t.length-5)?t:t+".json";return this.get(e).then(t=>{if(t.ok)return t.json();throw new Error(`Bad response ${t.status}`)})},e}]),expose("hiddenToggle",["document",function(t){function e(t){this._id=t}e.prototype.hide=function(){n(this._id,!0)},e.prototype.show=function(){n(this._id,!1)};function n(e,n){const o=t.getElementById(e);o&&(o.hidden=n)}return e}]),expose("table",["document",function(t){function e(t,e){this._id=t,this._opts=e}e.prototype.bind=function(t,e){this.data=t},e.prototype.render=function(){const e=t.getElementById(this._id);if(e){const t=function(t){return`<thead><tr>${t.cols.map(function(t){return`<th>${t.title}</th>`}).join("")}</tr></thead>`}(this._opts),i=function(t,e){return`<tbody>${e.map(function(e){return`<tr>${t.cols.map(function(t){const n=e[t.key];t.format=t.format||((t,e)=>t);return`<td>${t.format(n,e)}</td>`}).join("")}</tr>`}).join("")}</tbody>`}(this._opts,this.data),r=(this._opts,n=t,o=i,`<div class="table-wrapper"><table>${n}${o}</table></div>`);e.innerHTML=r}var n,o};return e}]),resolve(["hiddenToggle","table","http",function(t,e,n){"use strict";const o=new t("spinner"),i=new e("catalogueTable",{cols:[{title:"",key:"logo",format:function(t,e){return`<img src="/assets/logos/${t}" alt="Logo for ${e.name}" style="width: 80px;"/>`}},{title:"Name",key:"name",format:function(t,e){return`<a href="/questionnaire/${e.key}">${t}</a>`}},{title:"Description",key:"description"},{title:"Number of questions",key:"length"},{title:"Demographic",key:"demographic"},{title:"Sectors",key:"sectors"}]}),r=new t("catalogueTable");(new n).getJson("/api/catalogue").then(t=>{i.bind(t),i.render(),o.hide(),r.show()})}]);